<!DOCTYPE html> <html> <head> 
<meta charset="utf-8"> <title>Suzuki Swift DRS Interscroller</title>
<meta name="ad.size" content="width=970,height=250"> 

<style>
    .advert-container{
        display:table;
        width:100%;
        height:250px;
        overflow:hidden;
        position:relative;
    }
    .advert-container .cta{
        display:table-cell;
        vertical-align:middle;
    }
    .advert-container .element{
      position: absolute;
      left:50%;
      display: block;
    }
    .advert-container .logo {
      top: 0;
      background: transparent url('../images/suzuki-logo.svg') no-repeat;
      width:200px;
      height: 98px;
    }
    .advert-container .copy {
      margin-left: -483px;
      top: 7px; 
      height: 94px;
      width: 210px;
      background: transparent url('../images/title.svg') no-repeat;
    }
    .advert-container .cta {
      margin-left: -464px;
      top: 165px;
      background: transparent url('../images/cta.svg') no-repeat;
      width:176px;
      height: 35px;
    }
</style>
</head>
<body data-cache="%%CACHEBUSTER%%"> 
    <a href="%%CLICK_URL_UNESC%%" target="_blank"> 
        <div class="advert-container">
          <div class="element logo"></div>
          <div class="element copy"></div>
          <div class="element cta"></div>
        </div> 
    </a> 

<script>
(function() {

  var name = "carys";
  var iframe = window.parent.document.getElementById(name);
  var containerNode = (iframe === null) ? null : iframe.parentNode;
  var site = window.top.location.hostname;
  var url = window.top.location;

  console.log(iframe);
  var backPosY = iframe.style.backgroundPositionY;
  var advert = document.querySelector('.advert-container');

  console.log("Background position  is:", backPosY);
    
  
  if (containerNode === null) return null;
  containerNode.style.height = '250px';
  containerNode.style.marginBottom = '1.5em';
  containerNode.style.width = '980px';
  

  iframe.style.width = '100%';
  iframe.style.height = '250px';
  iframe.style.backgroundAttachment = 'fixed';
  iframe.style.backgroundImage = 'url(../images/suzuki-swift-bg.png)';
  iframe.style.backgroundRepeat = 'no-repeat';
  iframe.style.backgroundColor = '#000';
  // iframe.style.backgroundSize = 'auto 830px';
  iframe.style.marginLeft = "-20px";
  iframe.style.backgroundPosition = 'center top';
  iframe.style.marginBottom = '1200px';
  iframe.style.minWidth = '320px';
  
  //   }else if (site.indexOf('theweek') !== -1) {
//     if(url.href !== 'http://www.theweek.co.uk/'){
  //console.log(containerNode);
  var scrolledPastPoint = false,
  scrollPoint,
  bgFixPoint;
  if(site.indexOf('carbuyer')!== -1){
    scrollPoint = 126;
    bgFixPoint = -190;
  }else if(site.indexOf('evo')!== -1){
    scrollPoint = 107;
    bgFixPoint = -190;
    iframe.style.backgroundPosition = 'calc(50%) -150px';
  }else if(site.indexOf('autoexpress')!== -1){
    scrollPoint = 192;
  }
  window.top.addEventListener('scroll', function(e) {
    // console.log(this, window.top, e.currentTarget);
     console.log('scroll', e.currentTarget.scrollY);
    if (e.currentTarget.scrollY > scrollPoint && scrolledPastPoint === false) {
      scrolledPastPoint = true;
      iframe.style.backgroundAttachment = 'scroll';
      iframe.style.backgroundPosition = 'calc(50%) '+bgFixPoint+'px';
    } else if (e.currentTarget.scrollY < scrollPoint && scrolledPastPoint === true) {
        scrolledPastPoint = false;
      iframe.style.backgroundAttachment = 'fixed';
      if(site.indexOf('evo')!== -1){
        iframe.style.backgroundPosition = 'calc(50%) -150px;';
      }else{
        iframe.style.backgroundPosition = 'calc(50%) top';
      }
    }
  });
})();
</script>


</body>
</html>
